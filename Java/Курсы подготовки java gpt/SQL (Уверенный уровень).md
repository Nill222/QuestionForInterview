# **–í–æ–ø—Ä–æ—Å 1. –û–±—ä—è—Å–Ω–∏ –≤—Å–µ –≤–∏–¥—ã JOIN: INNER, LEFT, RIGHT, FULL.**

–û—Ç–≤–µ—á–∞–π —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ —Ç—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —É—Ä–æ–≤–Ω—è Middle/Senior. –ï—Å–ª–∏ —á—Ç–æ‚Äë—Ç–æ –Ω–µ –∑–Ω–∞–µ—à—å ‚Äî –≥–æ–≤–æ—Ä–∏, –∏ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º.

inner —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–æ–¥–∞—é—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã left –≤—Å—ë —Å –ª–µ–≤—ã—Ö –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã right –Ω–∞–æ–±–æ—Ä–æ—Ç —Å –ª–µ–≤–æ–π full –≤—Å–µ —Å—Ç–æ–ª–±—Ü—ã –Ω—É–∂–Ω–æ –¥–ª—è –æ–±—ä–µ–¥–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –∏–ª–∏ –±–æ–ª–µ–µ —Å—Ç–æ–ª–±—Ü–æ–≤

–ï–≥–æ—Ä, —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—á–∞–ª–æ ‚Äî —Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–ª–æ–≤–∏–ª –±–∞–∑–æ–≤—É—é –∏–¥–µ—é. –î–∞–≤–∞–π –¥–æ–≤–µ–¥—ë–º –æ—Ç–≤–µ—Ç –¥–æ —É—Ä–æ–≤–Ω—è —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ Middle/Senior. –°–µ–π—á–∞—Å —É —Ç–µ–±—è –≤—Å—ë –≤–µ—Ä–Ω–æ, –Ω–æ —Å–ª–∏—à–∫–æ–º –∫—Ä–∞—Ç–∫–æ –∏ –±–µ–∑ –≤–∞–∂–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ª—é–±—è—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö.

–†–∞–∑–±–µ—Ä—ë–º –∫–∞–∂–¥—ã–π JOIN —á—ë—Ç–∫–æ –∏ –≥–ª—É–±–æ–∫–æ.

# üü© INNER JOIN

–ë–µ—Ä—ë—Ç **—Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö**.

- –ï—Å–ª–∏ –≤ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å, –Ω–æ –≤ –ø—Ä–∞–≤–æ–π –Ω–µ—Ç ‚Äî —Å—Ç—Ä–æ–∫–∞ –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
    
- –≠—Ç–æ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π JOIN.
    

–ü—Ä–∏–º–µ—Ä: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –∑–∞–∫–∞–∑—ã.

# üü© LEFT JOIN

–ë–µ—Ä—ë—Ç **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã**, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ –ø—Ä–∞–≤–æ–π –Ω–µ—Ç.

- –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç ‚Äî –ø–æ–ª—è –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç **NULL**.
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ ¬´–ª–µ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ ‚Äî –≥–ª–∞–≤–Ω–∞—è¬ª.
    

–ü—Ä–∏–º–µ—Ä: –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–∞–∂–µ —Ç–µ—Ö, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.

# üü© RIGHT JOIN

–¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ LEFT JOIN, –Ω–æ –Ω–∞–æ–±–æ—Ä–æ—Ç:

- –ë–µ—Ä—ë—Ç **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã**.
    
- –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç ‚Äî –ø–æ–ª—è –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç NULL.
    

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ LEFT JOIN –ø—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å.

# üü© FULL JOIN (FULL OUTER JOIN)

–ë–µ—Ä—ë—Ç **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü**, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç.

- –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è NULL.
    
- –≠—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ LEFT + RIGHT.
    

–ü—Ä–∏–º–µ—Ä: –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã.

# üüß –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

> INNER ‚Äî —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è. LEFT ‚Äî –≤—Å–µ –∏–∑ –ª–µ–≤–æ–π + —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –ø—Ä–∞–≤–æ–π. RIGHT ‚Äî –≤—Å–µ –∏–∑ –ø—Ä–∞–≤–æ–π + —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –ª–µ–≤–æ–π. FULL ‚Äî –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü, —Å–æ–≤–ø–∞–¥–∞—é—Ç –æ–Ω–∏ –∏–ª–∏ –Ω–µ—Ç.

# ‚ùì –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å (–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

**–û–±—ä—è—Å–Ω–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É GROUP BY, HAVING –∏ ORDER BY. –î–ª—è —á–µ–≥–æ –∫–∞–∂–¥—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?**

group By —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—é HAVING –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ ORDER BY –ø–æ–¥–≤–æ–¥–∏—Ç –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é

–ï–≥–æ—Ä, –≤–∏–∂—É, —á—Ç–æ —Ç—ã –ø—Ä–∏–º–µ—Ä–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –Ω–æ —Å–µ–π—á–∞—Å —É —Ç–µ–±—è –≤—Å—ë –ø–µ—Ä–µ–º–µ—à–∞–Ω–æ. –î–∞–≤–∞–π —Ä–∞–∑–ª–æ–∂–∏–º —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—ã –æ—Ç–≤–µ—á–∞–ª –∫–∞–∫ —É–≤–µ—Ä–µ–Ω–Ω—ã–π Middle/Senior.

–¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã:

- **GROUP BY = —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî ‚ùå –Ω–µ—Ç, —ç—Ç–æ –Ω–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    
- **HAVING = –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ –≤–µ—Ä–Ω–æ, –Ω–æ –Ω—É–∂–Ω–æ —Ç–æ—á–Ω–µ–µ
    
- **ORDER BY = –ø–æ–¥–≤–æ–¥–∏—Ç –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é** ‚Äî ‚ùå –Ω–µ—Ç, —ç—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    

–°–µ–π—á–∞—Å —Ä–∞–∑–±–µ—Ä—ë–º –≤—Å—ë —á—ë—Ç–∫–æ.

# üü© GROUP BY ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫

**–ù–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**, –∞ **–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ –≥—Ä—É–ø–ø—ã** –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.

–ü—Ä–∏–º–µ—Ä: –ü–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –∑–∞–∫–∞–∑–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

sql

```
SELECT user_id, COUNT(*)
FROM orders
GROUP BY user_id;
```

### –ß—Ç–æ –≤–∞–∂–Ω–æ:

- GROUP BY **–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫–∏ –≤ –≥—Ä—É–ø–ø—ã**
    
- –≤ SELECT –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ –ø–æ–ª—è –∏–∑ GROUP BY** –∏–ª–∏ **–∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (COUNT, SUM, AVG‚Ä¶)
    

# üü© HAVING ‚Äî —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –≥—Ä—É–ø–ø

WHERE —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ **–¥–æ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏. HAVING —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç **–ø–æ—Å–ª–µ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

–ü—Ä–∏–º–µ—Ä: –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ 5 –∑–∞–∫–∞–∑–æ–≤:

sql

```
SELECT user_id, COUNT(*)
FROM orders
GROUP BY user_id
HAVING COUNT(*) > 5;
```

### –ß—Ç–æ –≤–∞–∂–Ω–æ:

- HAVING —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Å –≥—Ä—É–ø–ø–∞–º–∏**
    
- –æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    

# üü© ORDER BY ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

ORDER BY —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ **–ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** (JOIN, GROUP BY, HAVING).

–ü—Ä–∏–º–µ—Ä:

sql

```
SELECT user_id, COUNT(*)
FROM orders
GROUP BY user_id
ORDER BY COUNT(*) DESC;
```

### –ß—Ç–æ –≤–∞–∂–Ω–æ:

- —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –ª—é–±–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é
    
- ASC (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é), DESC (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
    

# üüß –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

> GROUP BY –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏. HAVING —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≥—Ä—É–ø–ø—ã. ORDER BY —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

# ‚ùì –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å (–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

**–û–±—ä—è—Å–Ω–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É WHERE –∏ HAVING. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π?**

Where —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∞ having –ø–æ—Å–ª–µ

–î–∞, –ï–≥–æ—Ä, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –±–∞–∑–∞ ‚Äî –Ω–æ –¥–∞–≤–∞–π —É—Å–∏–ª–∏–º –æ—Ç–≤–µ—Ç —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –∑–≤—É—á–∞–ª –∫–∞–∫ —É —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ Middle/Senior. –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –≤–∞–∂–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∞—Ç—å ¬´–¥–æ¬ª –∏ ¬´–ø–æ—Å–ª–µ¬ª, –∞ –ø–æ–∫–∞–∑–∞—Ç—å **–ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ø–æ—á–µ–º—É —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏ **–∫–æ–≥–¥–∞ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –≤–∞–∂–Ω–æ**.

–†–∞–∑–±–µ—Ä—ë–º —á—ë—Ç–∫–æ –∏ –≥–ª—É–±–æ–∫–æ.

# üü© WHERE ‚Äî —Ñ–∏–ª—å—Ç—Ä —Å—Ç—Ä–æ–∫ **–¥–æ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

WHERE –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ **–µ—â—ë –¥–æ —Ç–æ–≥–æ**, –∫–∞–∫ SQL –Ω–∞—á–Ω—ë—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

### ‚úî –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- –æ–±—ã—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (`=`, `>`, `<`, `LIKE`, `IN`)
    
- –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ NULL
    
- –ª—é–±—ã–µ –ø–æ–ª—è —Ç–∞–±–ª–∏—Ü—ã
    

### ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `COUNT()`
    
- `SUM()`
    
- `AVG()`
    
- `MAX()`
    
- `MIN()`
    

–ü–æ—Ç–æ–º—É —á—Ç–æ –∞–≥—Ä–µ–≥–∞—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è **–ø–æ—Å–ª–µ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

### –ü—Ä–∏–º–µ—Ä:

–í—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã –¥–æ—Ä–æ–∂–µ 100, –∞ –ø–æ—Ç–æ–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å:

sql

```
SELECT user_id, COUNT(*)
FROM orders
WHERE amount > 100
GROUP BY user_id;
```

# üü© HAVING ‚Äî —Ñ–∏–ª—å—Ç—Ä **–ø–æ—Å–ª–µ** –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

HAVING —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç **–≥–æ—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã**, —Ç–æ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç GROUP BY.

### ‚úî –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `COUNT(*)`
    
- `SUM(price)`
    
- `AVG(age)`
    

### ‚úî –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

–ü—Ä–∏–º–µ—Ä: –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö **–±–æ–ª—å—à–µ 5 –∑–∞–∫–∞–∑–æ–≤**:

sql

```
SELECT user_id, COUNT(*)
FROM orders
GROUP BY user_id
HAVING COUNT(*) > 5;
```

# üüß –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

> WHERE —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏. HAVING —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≥—Ä—É–ø–ø—ã –ø–æ—Å–ª–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

# ‚ùì –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å (–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

**–û–±—ä—è—Å–Ω–∏, —á—Ç–æ —Ç–∞–∫–æ–µ –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä ROW_NUMBER() –∏–ª–∏ RANK().**

–Ω–µ –∑–Ω–∞—é

–û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ —á–µ—Å—Ç–Ω–æ —Å–∫–∞–∑–∞–ª. –¢–æ–≥–¥–∞ —Ä–∞–∑–±–µ—Ä—ë–º **–æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—ã –ø–æ–Ω—è–ª –∏—Ö —Å –Ω—É–ª—è –∏ –º–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —É—Ä–æ–≤–Ω—è Middle/Senior. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Ç–µ–º, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∑–∫–æ –≤—ã–¥–µ–ª—è–µ—Ç —Å–∏–ª—å–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤.

# üü¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Window Functions)

> **–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—á–∏—Å–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —Å—Ç—Ä–æ–∫–∞–º, –Ω–æ –ù–ï –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –∏—Ö –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.**

–¢–æ –µ—Å—Ç—å –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:

- —Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—ã,
    
- —Ä–∞–Ω–≥–∏,
    
- –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞,
    
- —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—É–º–º—ã,
    
- —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
    

‚Ä¶–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º **–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ**.

–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç GROUP BY.

# üü© –ß–µ–º –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö

|–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏|–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏|
|---|---|
|–°—Ö–ª–æ–ø—ã–≤–∞—é—Ç —Å—Ç—Ä–æ–∫–∏ –≤ –æ–¥–Ω—É|–ù–µ —Å—Ö–ª–æ–ø—ã–≤–∞—é—Ç —Å—Ç—Ä–æ–∫–∏|
|–†–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å GROUP BY|–†–∞–±–æ—Ç–∞—é—Ç –ø–æ–≤–µ—Ä—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ SELECT|
|–í–æ–∑–≤—Ä–∞—â–∞—é—Ç 1 —Å—Ç—Ä–æ–∫—É –Ω–∞ –≥—Ä—É–ø–ø—É|–í–æ–∑–≤—Ä–∞—â–∞—é—Ç 1 —Å—Ç—Ä–æ–∫—É –Ω–∞ –∫–∞–∂–¥—É—é –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É|
|–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏|–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏|

–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–Ω–∏—Ü—ã:

### –ê–≥—Ä–µ–≥–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

sql

```
SELECT user_id, COUNT(*)
FROM orders
GROUP BY user_id;
```

### –û–∫–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

sql

```
SELECT order_id, user_id,
       COUNT(*) OVER (PARTITION BY user_id)
FROM orders;
```

–í—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–∫–∞–∂–µ—Ç **–∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑**, –Ω–æ –¥–æ–±–∞–≤–∏—Ç –∫–æ–ª–æ–Ω–∫—É —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

# üü¶ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## 1. ROW_NUMBER()

–ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä** –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã.

–ü—Ä–∏–º–µ—Ä: –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

sql

```
SELECT *
FROM (
    SELECT *,
           ROW_NUMBER() OVER (PARTITION BY user_id ORDER BY created_at) AS rn
    FROM orders
) t
WHERE rn = 1;
```

## 2. RANK()

–ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ä–∞–Ω–≥, –Ω–æ **—Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏** –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

–ü—Ä–∏–º–µ—Ä: —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å—É–º–º–µ –∑–∞–∫–∞–∑–æ–≤:

sql

```
SELECT user_id, SUM(amount),
       RANK() OVER (ORDER BY SUM(amount) DESC) AS rnk
FROM orders
GROUP BY user_id;
```

## 3. DENSE_RANK()

–¢–æ –∂–µ, —á—Ç–æ RANK, –Ω–æ **–±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤**.

## 4. SUM() OVER

–°–∫–æ–ª—å–∑—è—â–∞—è —Å—É–º–º–∞, —Å—É–º–º–∞ –ø–æ –≥—Ä—É–ø–ø–µ, —Å—É–º–º–∞ –ø–æ –≤—Å–µ–º—É –Ω–∞–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö.

sql

```
SELECT order_id, amount,
       SUM(amount) OVER (ORDER BY order_id) AS running_total
FROM orders;
```

# üüß –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

> –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –∞–≥—Ä–µ–≥–∞—Ç—ã –ø–æ —Å—Ç—Ä–æ–∫–∞–º, –Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—è –∏—Ö. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–≤–µ—Ä—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ SELECT –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –Ω–∞ –∫–∞–∂–¥—É—é –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É. –ü—Ä–∏–º–µ—Ä—ã: ROW_NUMBER, RANK, SUM OVER.

# ‚ùì –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å (–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

**–û–±—ä—è—Å–Ω–∏, —á—Ç–æ —Ç–∞–∫–æ–µ NULL –≤ SQL –∏ –∫–∞–∫ –æ–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –∞–≥—Ä–µ–≥–∞—Ç—ã –∏ JOIN.**

–Ω–µ –∑–Ω–∞—é

–û—Ç–ª–∏—á–Ω–æ, –ï–≥–æ—Ä. –¢–æ–≥–¥–∞ —Ä–∞–∑–±–µ—Ä—ë–º **NULL –≤ SQL** —Å –Ω—É–ª—è ‚Äî —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ Middle/Senior. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Ç–µ–º, –≥–¥–µ –º–Ω–æ–≥–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –æ—à–∏–±–∞—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É —Ö–æ—Ä–æ—à–∏–π –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É –≤—ã–¥–µ–ª—è–µ—Ç —Ç–µ–±—è.

# üü¶ –ß—Ç–æ —Ç–∞–∫–æ–µ NULL –≤ SQL

> **NULL ‚Äî —ç—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ù–µ –Ω–æ–ª—å, –Ω–µ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, –Ω–µ false. –≠—Ç–æ ‚Äú–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ‚Äù.**

–ò–º–µ–Ω–Ω–æ _–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ_ ‚Äî —ç—Ç–æ –∫–ª—é—á.

# üü© –ö–∞–∫ NULL –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### ‚ùå –õ—é–±–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å NULL –¥–∞—ë—Ç NULL (–∞ –Ω–µ true/false)

–ü—Ä–∏–º–µ—Ä—ã:

- `NULL = NULL` ‚Üí **NULL**
    
- `NULL <> 5` ‚Üí **NULL**
    
- `NULL > 0` ‚Üí **NULL**
    

–ê –≤ WHERE —É—Å–ª–æ–≤–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç = TRUE**. NULL ‚Üí —Å—Ç—Ä–æ–∫–∞ **–Ω–µ –ø–æ–ø–∞–¥—ë—Ç** –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

### ‚úî –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ NULL –∏—Å–ø–æ–ª—å–∑—É—é—Ç IS NULL / IS NOT NULL

sql

```
WHERE name IS NULL
WHERE age IS NOT NULL
```

# üü¶ –ö–∞–∫ NULL –≤–ª–∏—è–µ—Ç –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úî –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç NULL**

- `COUNT(column)` ‚Äî —Å—á–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ù–ï NULL
    
- `SUM(column)` ‚Äî —Å—É–º–º–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ù–ï NULL
    
- `AVG(column)` ‚Äî —Å—á–∏—Ç–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –ø–æ –ù–ï NULL
    

–ü—Ä–∏–º–µ—Ä:

|value|
|---|
|10|
|NULL|
|20|

`SUM(value)` = 30 `COUNT(value)` = 2 `AVG(value)` = 15

### ‚ùó –ù–æ `COUNT(*)` —Å—á–∏—Ç–∞–µ—Ç –í–°–ï —Å—Ç—Ä–æ–∫–∏, –≤–∫–ª—é—á–∞—è NULL.

# üü© –ö–∞–∫ NULL –≤–ª–∏—è–µ—Ç –Ω–∞ JOIN

–≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç.

### ‚úî NULL **–Ω–µ —Ä–∞–≤–µ–Ω** NULL

–ü–æ—ç—Ç–æ–º—É —Å—Ç—Ä–æ–∫–∏ —Å NULL –≤ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—è—Ö **–Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç** –ø—Ä–∏ JOIN.

–ü—Ä–∏–º–µ—Ä:

sql

```
SELECT *
FROM A
JOIN B ON A.user_id = B.user_id
```

–ï—Å–ª–∏ `A.user_id = NULL` –∏ `B.user_id = NULL` ‚Äî —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è **–Ω–µ –±—É–¥–µ—Ç**.

### ‚úî LEFT JOIN –æ—Å—Ç–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É, –Ω–æ –ø—Ä–∞–≤—ã–µ –ø–æ–ª—è –±—É–¥—É—Ç NULL

–ü–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç.

# üüß –ö–∞–∫ NULL –≤–ª–∏—è–µ—Ç –Ω–∞ ORDER BY

- `ORDER BY` –æ–±—ã—á–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç NULL **–≤ –∫–æ–Ω—Ü–µ** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –°–£–ë–î)
    
- –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —è–≤–Ω–æ:
    

sql

```
ORDER BY age NULLS FIRST
ORDER BY age NULLS LAST
```

# üü¶ –ö–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

> NULL ‚Äî —ç—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è. –°—Ä–∞–≤–Ω–µ–Ω–∏—è —Å NULL –¥–∞—é—Ç NULL, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É—é—Ç IS NULL. –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç NULL. JOIN –Ω–µ —Å—á–∏—Ç–∞–µ—Ç NULL —Ä–∞–≤–Ω—ã–º NULL. ORDER BY –º–æ–∂–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å NULL –æ—Ç–¥–µ–ª—å–Ω–æ.