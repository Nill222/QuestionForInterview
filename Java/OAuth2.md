# üîê –ß—Ç–æ —Ç–∞–∫–æ–µ OAuth?

**OAuth (Open Authorization)** ‚Äî —ç—Ç–æ _–ø—Ä–æ—Ç–æ–∫–æ–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏_, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥—Ä—É–≥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ **–±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è**.

### –ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏

–¢—ã –∑–∞—Ö–æ–¥–∏—à—å –Ω–∞ —Å–∞–π—Ç ‚Üí –∂–º—ë—à—å _¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google¬ª_.  
–°–∞–π—Ç –ù–ï —É–∑–Ω–∞—ë—Ç —Ç–≤–æ–π –ø–∞—Ä–æ–ª—å –∫ Google.  
Google —Ç–æ–ª—å–∫–æ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–π—Ç—É:

> ¬´–î–∞, —ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ ‚Äî –í–∞—Å—è. –í–æ—Ç –µ–º—É —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞¬ª.

---

# üß© OAuth 2.0 vs JWT vs OAuth?

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è:

|–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è|–ß—Ç–æ –¥–µ–ª–∞–µ—Ç|
|---|---|
|**OAuth2**|–ó–∞–Ω–∏–º–∞–µ—Ç—Å—è _–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π_ (–∫—Ç–æ –∏ –∫ —á–µ–º—É –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø).|
|**JWT**|–§–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è _–≤–Ω—É—Ç—Ä–∏ OAuth_, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ –æ—Ç–¥–µ–ª—å–Ω–æ.|
|**Spring Security**|–§—Ä–µ–π–º–≤–æ—Ä–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º OAuth ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤.|

---

# ‚≠ê –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω OAuth?

OAuth –Ω—É–∂–µ–Ω, –∫–æ–≥–¥–∞:

- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö–æ—á–µ—Ç –∏–º–µ—Ç—å **–¥–æ—Å—Ç—É–ø –∫ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º** –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Google, GitHub, Discord, Apple ID).
    
- –º—ã —Ö–æ—Ç–∏–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏**.
    
- –Ω—É–∂–Ω–∞ **—Ä–∞–∑–¥–∞—á–∞ –ø—Ä–∞–≤ –∏ –¥–æ—Å—Ç—É–ø–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–∫–µ–Ω–æ–≤.
    
- –µ—Å—Ç—å **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** –∏ –Ω—É–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (Keycloak, Auth0, Okta).
    
- –Ω–∞–º –Ω—É–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤–Ω–µ—à–Ω–µ–º—É —Å–µ—Ä–≤–µ—Ä—É (Authorization Server).
    

---

# ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç OAuth2 (–Ω–∞ –ø–∞–ª—å—Ü–∞—Ö)

–ü—Ä–æ—Ü–µ—Å—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 4 —Ä–æ–ª–µ–π:

1. **Client (–∫–ª–∏–µ–Ω—Ç)** ‚Äî —Ç–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
    
2. **Resource Owner** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    
3. **Authorization Server** ‚Äî Google, GitHub, Keycloak.
    
4. **Resource Server** ‚Äî API, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å.
    

### –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ö–µ–º–∞:

1. –ö–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç:
    

`–•–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞—ë—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Google / GitHub.
    
3. Authorization Server –≤—ã–¥–∞—ë—Ç **authorization code**.
    
4. –ö–ª–∏–µ–Ω—Ç –º–µ–Ω—è–µ—Ç —ç—Ç–æ—Ç code –Ω–∞ **access token**.
    
5. –¢–æ–∫–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É API.
    

---

# üîë –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤ OAuth

### Access Token

–ö–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π (–æ–±—ã—á–Ω–æ 1 —á–∞—Å) ‚Üí –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ API.  
–ß–∞—Å—Ç–æ ‚Äî JWT.

### Refresh Token

–°–ª—É–∂–∏—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Access Token –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞.  
–ñ–∏–≤—ë—Ç –¥–æ–ª—å—à–µ ‚Äî —á–∞—Å—ã, –¥–Ω–∏, –Ω–µ–¥–µ–ª–∏.

---

# üß± –ö–∞–∫ Spring Boot —Ä–∞–±–æ—Ç–∞–µ—Ç —Å OAuth

Spring Boot + Spring Security –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∏–∑ –∫–æ—Ä–æ–±–∫–∏:

## 1) **OAuth2 Login**

–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –∫–Ω–æ–ø–∫—É ¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google¬ª:

`spring.security.oauth2.client.registration.google.client-id=... spring.security.oauth2.client.registration.google.client-secret=...`

Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- —Å–æ–∑–¥–∞—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
    
- –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ Google
    
- –ø–æ–ª—É—á–∏—Ç access token
    
- —Å–æ–∑–¥–∞—Å—Ç Principal (OAuth2User)
    
- –∑–∞–ª–æ–≥–∏–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ SecurityContext
    

–ù–∏–∫–∞–∫–æ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

---

## 2) **Resource Server**

–ï—Å–ª–∏ —Ç–≤–æ–π —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å JWT/OAuth2 —Ç–æ–∫–µ–Ω–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç Keycloak):

`@Bean SecurityFilterChain security(HttpSecurity http) throws Exception {     http         .oauth2ResourceServer(oauth2 -> oauth2.jwt());     return http.build(); }`

Spring:

- –ø—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ–¥–ø–∏—Å—å —Ç–æ–∫–µ–Ω–∞
    
- –∏–∑–≤–ª–µ—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
- –ø–æ–ª–æ–∂–∏—Ç Authentication –≤ SecurityContext
    

---

## 3) **Authorization Server**

–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —Å–∞–º –±—ã—Ç—å –∫–∞–∫ Google/Keycloak ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç Spring Authorization Server (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç).

---

# üïí –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OAuth?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OAuth –Ω—É–∂–Ω–æ, –µ—Å–ª–∏:

### ‚úî –¢–µ–±–µ –Ω—É–∂–Ω–æ ¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google / GitHub / VK¬ª

–≠—Ç–æ –ø—Ä—è–º–æ–π —Å–ª—É—á–∞–π OAuth2 Login.

### ‚úî –£ —Ç–µ–±—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏ —Ç—ã —Ö–æ—á–µ—à—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π Auth

–¢–æ –µ—Å—Ç—å —Å—Ç–∞–≤–∏—à—å Keycloak/Okta/Auth0 ‚Üí –∞ —Å–µ—Ä–≤–∏—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è Resource Server.

### ‚úî –¢–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º –¥–∞–Ω–Ω—ã–º

–ù–∞–ø—Ä–∏–º–µ—Ä:

- –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ Google Drive –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
- —Ä–∞–±–æ—Ç–∞—Ç—å —Å GitHub API –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
- –ø–æ–¥–∫–ª—é—á–∞—Ç—å Telegram / Discord / Slack –±–æ—Ç–æ–≤
    

### ‚úî –£ —Ç–µ–±—è –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

OAuth —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

# ‚ùå –ö–æ–≥–¥–∞ OAuth –ù–ï –Ω—É–∂–µ–Ω?

- –ï—Å–ª–∏ —É —Ç–µ–±—è –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **JWT + —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π login/password**.
    
- –ï—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.
    
- –ï—Å–ª–∏ –Ω–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
    
- –ï—Å–ª–∏ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Authorization Server (–æ–Ω —Å–ª–æ–∂–Ω—ã–π).
    

---

# üì¶ –ò—Ç–æ–≥ –∫—Ä–∞—Ç–∫–æ

|–ß—Ç–æ|–ö–æ—Ä–æ—Ç–∫–æ|
|---|---|
|**OAuth ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**|–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã, –±–µ–∑ –ø–∞—Ä–æ–ª—è.|
|**Spring Boot**|–î–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è OAuth2 Login –∏ Resource Server.|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**|–°–æ—Ü. –ª–æ–≥–∏–Ω, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º API.|
|**–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**|–í –ø—Ä–æ—Å—Ç—ã—Ö –º–æ–Ω–æ–ª–∏—Ç–∞—Ö —Å –æ–±—ã—á–Ω–æ–π —Ñ–æ—Ä–º–æ–π –ª–æ–≥–∏–Ω–∞.|