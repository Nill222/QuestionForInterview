## 67. XML ‚Äì –ø–∞—Ä—Å–µ—Ä—ã

–í Java –µ—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞ –∫ –ø–∞—Ä—Å–∏–Ω–≥—É XML:

- **DOM (Document Object Model)**
    
    - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å XML –≤ –ø–∞–º—è—Ç—å –∫–∞–∫ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤.
        
    - –£–¥–æ–±–Ω–æ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª—é–±—ã–º —É–∑–ª–∞–º.
        
    - –ú–∏–Ω—É—Å: –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö.
        
    - –ö–ª–∞—Å—Å—ã: `DocumentBuilder`, `DocumentBuilderFactory`.
        
- **SAX (Simple API for XML)**
    
    - –°–æ–±—ã—Ç–∏–π–Ω—ã–π –ø–∞—Ä—Å–µ—Ä: —á–∏—Ç–∞–µ—Ç XML –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π.
        
    - –ù–µ —Ö—Ä–∞–Ω–∏—Ç –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ø–∞–º—è—Ç–∏.
        
    - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
        
    - –ö–ª–∞—Å—Å—ã: `SAXParser`, `DefaultHandler`.
        
- **StAX (Streaming API for XML)**
    
    - "Pull"-–ø–æ–¥—Ö–æ–¥: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç SAX, –≥–¥–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
        
    - –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –∏ —É–¥–æ–±–Ω—ã–π –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
        
    - –ö–ª–∞—Å—Å—ã: `XMLInputFactory`, `XMLStreamReader`.
        
- **JAXB (Java Architecture for XML Binding)**
    
    - –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–∞–ø–ø–∏—Ç—å XML –Ω–∞–ø—Ä—è–º—É—é –≤ Java-–æ–±—ä–µ–∫—Ç—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ.
        
    - –£–¥–æ–±–Ω–æ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
        

## 68. Well-formed vs Valid XML

- **Well-formed XML**
    
    - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–∞–∑–æ–≤—ã–º –ø—Ä–∞–≤–∏–ª–∞–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ XML:
        
        - –û–¥–∏–Ω –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç.
            
        - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–≥–æ–≤.
            
        - –ó–∞–∫—Ä—ã—Ç—ã–µ —Ç–µ–≥–∏.
            
        - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã.
            
    - –ü—Ä–∏–º–µ—Ä:
        
        xml
        
        ```
        <person>
          <name>–ï–≥–æ—Ä</name>
        </person>
        ```
        
- **Valid XML**
    
    - –ü–æ–º–∏–º–æ well-formed, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç **—Å—Ö–µ–º–µ** (DTD –∏–ª–∏ XSD).
        
    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö.
        
    - –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ XSD —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã `<age>` –±—ã–ª —á–∏—Å–ª–æ–º, —Ç–æ `<age>abc</age>` –±—É–¥–µ—Ç invalid.
        

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- **Well-formed** ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≥–¥–µ –≤–∞–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.
    
- **Valid** ‚Äî –Ω—É–∂–Ω–æ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏, –≥–¥–µ –≤–∞–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ç–∏–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, SOAP, –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã).
    

## 69. –û—Ç–ª–∏—á–∏–µ DTD –∏ XSD

- **DTD (Document Type Definition)**
    
    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É XML-–¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–æ–ø—É—Å—Ç–∏–º—ã).
        
    - –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö (–≤—Å—ë ‚Äî —Å—Ç—Ä–æ–∫–∏).
        
    - –°–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML, –∞ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π.
        
    - –ü—Ä–∏–º–µ—Ä:
        
        dtd
        
        ```
        <!ELEMENT person (name, age)>
        <!ELEMENT name (#PCDATA)>
        <!ELEMENT age (#PCDATA)>
        ```
        
- **XSD (XML Schema Definition)**
    
    - –ë–æ–ª–µ–µ –º–æ—â–Ω–∞—è –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ DTD.
        
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (string, integer, date).
        
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç namespaces.
        
    - –ù–∞–ø–∏—Å–∞–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML.
        
    - –ü—Ä–∏–º–µ—Ä:
        
        xml
        
        ```
        <xs:element name="person">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="name" type="xs:string"/>
              <xs:element name="age" type="xs:integer"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        ```
        

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

| –í–æ–ø—Ä–æ—Å               | –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç                                                                          |
| -------------------- | -------------------------------------------------------------------------------------- |
| XML-–ø–∞—Ä—Å–µ—Ä—ã          | DOM (–¥–µ—Ä–µ–≤–æ), SAX (—Å–æ–±—ã—Ç–∏—è), StAX (pull), JAXB (–º–∞–ø–ø–∏–Ω–≥)                               |
| Well-formed vs Valid | Well-formed ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å; Valid ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Å—Ö–µ–º–µ (DTD/XSD)                           |
| DTD vs XSD           | DTD ‚Äî —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç, –Ω–µ XML, –±–µ–∑ —Ç–∏–ø–æ–≤; XSD ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, XML-—Ñ–æ—Ä–º–∞—Ç, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ |